<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞: –û–ø–∏—Ç—É–≤–∞–Ω–Ω—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ –Ω–∞—É–∫–∏ 2025</title>
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #1a2a6c;
            --secondary: #b21f1f;
            --accent: #fdbb2d;
            --bg-body: #f3f4f6;
            --bg-card: #ffffff;
            --text-main: #1f2937;
            --text-muted: #6b7280;
            --border: #e5e7eb;
            --chart-bar-bg: #eef2ff;
        }

        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: var(--bg-body);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.4;
        }

        /* LOGIN SCREEN */
        #login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--bg-body);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .login-card {
            background: white;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            width: 100%;
            max-width: 400px;
            border: 1px solid var(--border);
        }

        .login-input {
            width: 100%;
            padding: 12px;
            margin: 20px 0;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }

        .login-input:focus {
            border-color: var(--primary);
        }

        .login-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s;
        }

        .login-btn:hover {
            background: #132052;
        }

        .error-msg {
            color: #dc2626;
            margin-top: 10px;
            font-size: 0.9rem;
            display: none;
        }

        /* MAIN DASHBOARD */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 40px 20px;
            display: none; /* Hidden by default */
        }

        header {
            margin-bottom: 30px;
            border-bottom: 1px solid var(--border);
            padding-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
        }
        
        .header-content {
            flex: 1;
        }

        .print-btn {
            background-color: white;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }
        
        .print-btn:hover {
            background-color: var(--primary);
            color: white;
        }

        h1 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary);
            margin: 0 0 10px 0;
        }

        .meta-info {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        /* METRICS */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
            break-inside: avoid;
        }

        .metric-card {
            background: var(--bg-card);
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center;
            border: 1px solid var(--border);
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            line-height: 1;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.875rem;
            color: var(--text-muted);
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* LAYOUT */
        .dashboard-layout {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 24px;
        }

        .card {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
            border: 1px solid var(--border);
            break-inside: avoid;
            page-break-inside: avoid;
        }

        .col-span-4 { grid-column: span 4; }
        .col-span-6 { grid-column: span 6; }
        .col-span-8 { grid-column: span 8; }
        .col-span-12 { grid-column: span 12; }

        @media (max-width: 1024px) {
            .col-span-4, .col-span-6, .col-span-8 { grid-column: span 12; }
        }

        h2 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-main);
            margin-top: 0;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        /* TABLES */
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        th {
            text-align: left;
            padding: 12px;
            background-color: #f9fafb;
            color: var(--text-muted);
            font-weight: 600;
            border-bottom: 2px solid var(--border);
        }

        td {
            padding: 10px 12px;
            border-bottom: 1px solid var(--border);
            vertical-align: top;
        }

        tr:last-child td {
            border-bottom: none;
        }

        /* CHARTS */
        .chart-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .bar-group {
            display: flex;
            align-items: center;
            font-size: 0.85rem;
            break-inside: avoid;
        }

        .bar-label {
            width: 220px;
            flex-shrink: 0;
            color: var(--text-main);
            padding-right: 10px;
        }

        .bar-track {
            flex-grow: 1;
            background-color: var(--chart-bar-bg);
            height: 24px;
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            margin: 0 12px;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }

        .bar-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary) 0%, #3b82f6 100%);
            border-radius: 6px;
            transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        
        .bar-fill-text {
            color: white;
            font-size: 0.75rem;
            padding-right: 8px;
            font-weight: bold;
        }

        .bar-value {
            width: 40px;
            text-align: right;
            font-weight: 700;
            color: var(--text-main);
        }

        /* BADGES */
        .u-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 700;
            margin-left: 8px;
            text-transform: uppercase;
            vertical-align: middle;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        .u-tech { background: #e0f2fe; color: #0369a1; border: 1px solid #bae6fd; }
        .u-class { background: #ffe4e6; color: #be123c; border: 1px solid #fda4af; }
        .u-ped { background: #ffedd5; color: #c2410c; border: 1px solid #fdba74; }
        .u-agro { background: #f3e8ff; color: #7e22ce; border: 1px solid #d8b4fe; }
        .u-spec { background: #dcfce7; color: #15803d; border: 1px solid #86efac; }

        .university-list {
            font-size: 0.85rem;
            color: #4b5563;
            line-height: 1.6;
            margin: 0;
            padding-left: 15px;
        }
        .university-list li {
            margin-bottom: 4px;
        }

        /* EXPLANATION BOX */
        .highlight-box {
            background-color: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        .highlight-title {
            font-weight: bold;
            color: #0369a1;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .quote-grid { display: grid; gap: 16px; }
        .quote-bubble {
            position: relative;
            background: #fffbf0;
            border-left: 4px solid #d97706;
            padding: 16px;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            color: #4b5563;
            break-inside: avoid;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        .topic-tag {
            display: inline-block;
            background: #e5e7eb;
            padding: 6px 12px;
            border-radius: 6px;
            margin: 0 8px 8px 0;
            font-size: 0.85rem;
            color: #374151;
            border: 1px solid #d1d5db;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        .footer-note {
            margin-top: 40px;
            text-align: center;
            font-size: 0.8rem;
            color: #9ca3af;
        }
        
        .chart-section-title {
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 12px;
            padding-left: 5px;
            border-left: 3px solid var(--secondary);
        }
        
        .dual-chart-wrapper {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px dashed #ccc;
        }
        @media (max-width: 768px) {
            .dual-chart-wrapper { grid-template-columns: 1fr; }
        }

        /* GENDER STATS STYLES */
        .gender-container {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin-top: 10px;
        }
        .gender-box {
            text-align: center;
            padding: 10px;
            background: #f9fafb;
            border-radius: 8px;
            width: 45%;
            transition: transform 0.2s;
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
        .gender-box:hover {
            transform: translateY(-2px);
        }
        .gender-icon {
            font-size: 2.5rem;
            margin-bottom: 8px;
        }
        .gender-count {
            font-size: 1.25rem;
            font-weight: 800;
            color: var(--text-main);
        }
        .gender-label {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        /* =========================================
           A4 PDF GENERATION / PRINT STYLES
           ========================================= */
        @media print {
            @page {
                size: A4;
                margin: 10mm 10mm 10mm 10mm;
            }

            body {
                background-color: white;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }

            #login-screen { display: none !important; }
            .print-btn { display: none !important; }
            
            .container {
                display: block !important; /* Ensure visible despite JS state */
                width: 100%;
                max-width: 100%;
                padding: 0;
                margin: 0;
            }

            header {
                margin-bottom: 20px;
                border-bottom: 2px solid var(--primary);
            }
            
            h1 { font-size: 1.6rem; }
            .meta-info { font-size: 0.8rem; }

            /* Adjust Grid for A4 Paper */
            .dashboard-layout {
                display: block; /* Grid often breaks poorly on print, block is safer */
            }
            
            /* Force side-by-side where space permits, using float or flex */
            .card {
                width: 100%;
                margin-bottom: 15px;
                box-shadow: none;
                border: 1px solid #ccc;
                page-break-inside: avoid;
                break-inside: avoid;
            }

            /* Try to maintain some columns if content is small */
            .col-span-6 {
                width: 49%;
                display: inline-block;
                vertical-align: top;
                margin-right: 1%;
            }
            
            /* Force full width for complex charts on print */
            .col-span-8, .col-span-4 {
                width: 100%;
                display: block;
            }

            .bar-track {
                background-color: #eef2ff !important;
                border: 1px solid #ddd;
            }
            
            .bar-fill {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }

            .metric-card {
                border: 1px solid #ccc;
                box-shadow: none;
            }
            
            /* Ensure text is dark enough */
            body, p, td, th, .bar-label {
                color: #000 !important;
            }
            
            .footer-note {
                position: fixed;
                bottom: 0;
                width: 100%;
                text-align: center;
                font-size: 0.6rem;
            }
        }
    </style>
</head>
<body>

<!-- LOGIN SCREEN -->
<div id="login-screen">
    <div class="login-card">
        <h2 style="justify-content: center; margin-bottom: 5px; color: var(--primary);">–ö–æ–Ω—Ñ—ñ–¥–µ–Ω—Ü—ñ–π–Ω–∏–π –¥–æ—Å—Ç—É–ø</h2>
        <p style="font-size: 0.9rem; color: var(--text-muted); margin-bottom: 20px;">–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ –Ω–∞—É–∫–∏ 2025</p>
        <input type="password" id="password-input" class="login-input" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É" autocomplete="current-password">
        <button onclick="checkPassword()" class="login-btn">–£–≤—ñ–π—Ç–∏</button>
        <p id="error-message" class="error-msg">–ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å!</p>
    </div>
</div>

<!-- MAIN DASHBOARD -->
<div id="main-dashboard" class="container">
    <header>
        <div class="header-content">
            <h1>–ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –ø–æ—Ç—Ä–µ–± –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ –Ω–∞—É–∫–∏ 2025</h1>
            <div class="meta-info">–û–ø—Ä–∞—Ü—å–æ–≤–∞–Ω–æ –∞–Ω–∫–µ—Ç: <strong>50</strong> | –£–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∑–∞–∫–ª–∞–¥—ñ–≤: <strong>37</strong></div>
        </div>
        <button class="print-btn" onclick="window.print()">
            <i class="fa-solid fa-print"></i> –ó–±–µ—Ä–µ–≥—Ç–∏ —è–∫ PDF / –î—Ä—É–∫—É–≤–∞—Ç–∏
        </button>
    </header>

    <!-- Metrics -->
    <div class="metrics-grid">
        <div class="metric-card">
            <div class="metric-value">62%</div>
            <div class="metric-label">–î–æ—Å–≤—ñ–¥ —Ä–æ–±–æ—Ç–∏ > 10 —Ä–æ–∫—ñ–≤</div>
        </div>
        <div class="metric-card" style="border: 2px solid #b21f1f;">
            <div class="metric-value" style="color: #b21f1f;">94%</div>
            <div class="metric-label">–ü–æ—Ç—Ä–µ–±–∞ —É –ì—Ä–∞–Ω—Ç–∞—Ö*</div>
            <div style="font-size: 0.65rem; color: #999; margin-top: 5px;">*–∑–∞—Ü—ñ–∫–∞–≤–ª–µ–Ω—ñ—Å—Ç—å —É –Ω–∞–≤—á. –ø—Ä–æ–≥—Ä–∞–º–∞—Ö</div>
        </div>
        <div class="metric-card">
            <div class="metric-value">78%</div>
            <div class="metric-label">–ü–æ–ø–∏—Ç –Ω–∞ –°—Ç–∞–∂—É–≤–∞–Ω–Ω—è</div>
        </div>
        <div class="metric-card">
            <div class="metric-value">20%</div>
            <div class="metric-label">–¢–æ–ø-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (–ü—Ä–æ—Ä–µ–∫—Ç–æ—Ä–∏)</div>
        </div>
    </div>

    <div class="dashboard-layout">
        
        <!-- Universities Stats (DUAL VIEW) & Grouped List -->
        <div class="card col-span-12">
            <h2>–ì–µ–æ–≥—Ä–∞—Ñ—ñ—è —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤: –ê–Ω–∞–ª—ñ–∑ –∑–∞ —Ç–∏–ø–∞–º–∏ –ó–í–û</h2>
            
            <div class="dual-chart-wrapper">
                <div>
                    <div class="chart-section-title">1. –ó–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∞–Ω–∫–µ—Ç (Total: 50)</div>
                    <div id="uni-types-chart" class="chart-container"></div>
                </div>
                <div>
                    <div class="chart-section-title">2. –ó–∞ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ —É—Å—Ç–∞–Ω–æ–≤–∞–º–∏ (Total: 37)</div>
                    <div id="uni-types-unique-chart" class="chart-container"></div>
                </div>
            </div>

            <h3 style="font-size: 1rem; color: var(--text-muted); margin-bottom: 10px;">–î–µ—Ç–∞–ª—å–Ω–∏–π –ø–µ—Ä–µ–ª—ñ–∫ (–∑ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è–º —Ç–∏–ø—É)</h3>
            <table style="width: 100%;">
                <thead>
                    <tr>
                        <th style="width: 10%; white-space: nowrap; text-align: center;">–ê–Ω–∫–µ—Ç</th>
                        <th style="width: 90%;">–ó–∞–∫–ª–∞–¥ –≤–∏—â–æ—ó –æ—Å–≤—ñ—Ç–∏ (–ó–í–û)</th>
                    </tr>
                </thead>
                <tbody id="universities-table-body"></tbody>
            </table>
        </div>

        <!-- Roles & Experience Breakdown + GENDER -->
        <div class="card col-span-6">
            <h2>–†–æ–∑–ø–æ–¥—ñ–ª –∑–∞ –ø–æ—Å–∞–¥–∞–º–∏</h2>
            <table>
                <thead>
                    <tr>
                        <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
                        <th style="text-align: right;">–ö—ñ–ª—å–∫—ñ—Å—Ç—å</th>
                        <th style="text-align: right;">%</th>
                    </tr>
                </thead>
                <tbody id="roles-table-body"></tbody>
            </table>

            <!-- GENDER STATS SECTION -->
            <div style="margin-top: 30px; border-top: 1px dashed var(--border); padding-top: 20px;">
                <div class="chart-section-title" style="border-color: var(--accent);">–î–µ–º–æ–≥—Ä–∞—Ñ—ñ—è: –ì–µ–Ω–¥–µ—Ä–Ω–∏–π –±–∞–ª–∞–Ω—Å</div>
                <div id="gender-stats" class="gender-container"></div>
            </div>
        </div>

        <div class="card col-span-6">
            <h2>–°—Ç–∞–∂ —Ä–æ–±–æ—Ç–∏ —É —Å—Ñ–µ—Ä—ñ –Ω–∞—É–∫–∏/—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</h2>
            <div id="exp-chart" class="chart-container" style="justify-content: center; height: 100%;"></div>
        </div>

        <!-- All Topics Chart + GRANT BREAKDOWN -->
        <div class="card col-span-8">
            <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                <h2 style="margin:0;">–†–µ–π—Ç–∏–Ω–≥ —Ç–µ–º —Ç–∞ –ê–Ω–∞–ª—ñ–∑ "94%"</h2>
            </div>

            <div class="highlight-box">
                <div class="highlight-title">üìä –î–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è: –ß–æ–º—É 94% (47/50)?</div>
                <p style="font-size: 0.85rem; color: #555; margin-bottom: 10px; margin-top:0;">
                    –¶–∏—Ñ—Ä–∞ <strong>94%</strong> –±–∞–∑—É—î—Ç—å—Å—è –Ω–∞ –ø—Ä—è–º–æ–º—É –∑–∞–ø–∏—Ç–∞–Ω–Ω—ñ: <em>"–ß–∏ —Ü—ñ–∫–∞–≤–∏—Ç—å –í–∞—Å, —è–∫ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≥–æ—Ç—É–≤–∞—Ç–∏ –≥—Ä–∞–Ω—Ç–æ–≤—ñ –∑–∞—è–≤–∫–∏ –Ω–∞ –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏?"</em> (–ª–∏—à–µ 3 –æ—Å–æ–±–∏ –≤—ñ–¥–ø–æ–≤—ñ–ª–∏ "–ù—ñ" –∞–±–æ "–ù–µ —Ü—ñ–∫–∞–≤–∏—Ç—å").
                </p>
                <div id="grant-breakdown-chart" class="chart-container"></div>
            </div>

            <h3 style="font-size: 1rem; margin-top: 20px; margin-bottom: 10px;">–ó–∞–≥–∞–ª—å–Ω–∏–π —Ä–µ–π—Ç–∏–Ω–≥ —É—Å—ñ—Ö —Ç–µ–º (Priority Topics):</h3>
            <div id="topics-chart" class="chart-container"></div>
        </div>

        <!-- Formats -->
        <div class="card col-span-4">
            <h2>–ë–∞–∂–∞–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ –Ω–∞–≤—á–∞–Ω–Ω—è</h2>
            <div id="formats-chart" class="chart-container"></div>
        </div>

        <!-- Specific Needs Heatmap Table -->
        <div class="card col-span-12">
            <h2>–†–µ–π—Ç–∏–Ω–≥ –∑–∞–ø–∏—Ç—ñ–≤ –Ω–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ –Ω–∞–≤–∏—á–∫–∏</h2>
            <div style="overflow-x: auto;">
                <table>
                    <thead>
                        <tr>
                            <th style="width: 40%;">–¢–µ–º–∞—Ç–∏–∫–∞ / –ù–∞–≤–∏—á–∫–∞</th>
                            <th style="width: 15%;">–î—É–∂–µ —Ü—ñ–∫–∞–≤–∏—Ç—å</th>
                            <th style="width: 15%;">–¶—ñ–∫–∞–≤–∏—Ç—å</th>
                            <th style="width: 30%;">–Ü–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω–∏–π –ø–æ–∫–∞–∑–Ω–∏–∫</th>
                        </tr>
                    </thead>
                    <tbody id="interests-table-body"></tbody>
                </table>
            </div>
        </div>

        <!-- Qualitative Analysis -->
        <div class="card col-span-6">
            <h2>–Ø–∫—ñ—Å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑: –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ç–µ–º–∏ (Open Data)</h2>
            <div id="tags-container"></div>
            
            <h3 style="font-size: 1rem; margin-top: 25px; color: #b91c1c;">‚ö†Ô∏è –í–∏—è–≤–ª–µ–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏ (Pain points)</h3>
            <ul style="padding-left: 20px; font-size: 0.9rem; color: #4b5563;">
                <li>–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–µ –≤–∏–≥–æ—Ä–∞–Ω–Ω—è, –ø–æ—à—É–∫ —Å–µ–Ω—Å—É —Ä–æ–±–æ—Ç–∏ –ø—ñ–¥ —á–∞—Å –≤—ñ–π–Ω–∏.</li>
                <li>–ù–∏–∑—å–∫–∞ –º–æ—Ç–∏–≤–∞—Ü—ñ—è –Ω–∞—É–∫–æ–≤—Ü—ñ–≤ —á–µ—Ä–µ–∑ —Ä—ñ–≤–µ–Ω—å –æ–ø–ª–∞—Ç–∏ –ø—Ä–∞—Ü—ñ.</li>
                <li>–ë—é—Ä–æ–∫—Ä–∞—Ç–∏–∑–∞—Ü—ñ—è: –º–µ–∂–∞ –º—ñ–∂ "–º–µ–Ω–µ–¥–∂–µ—Ä–æ–º" —Ç–∞ "–±—é—Ä–æ–∫—Ä–∞—Ç–æ–º".</li>
                <li>–ü–æ–≤—ñ–ª—å–Ω–µ –≤–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è –Ω–∞—É–∫–æ–≤–∏—Ö —Ä–æ–∑—Ä–æ–±–æ–∫ —É –ø—Ä–∞–∫—Ç–∏–∫—É.</li>
            </ul>
        </div>

        <div class="card col-span-6">
            <h2>–ì–æ–ª–æ—Å —Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç—ñ–≤ (–¶–∏—Ç–∞—Ç–∏)</h2>
            <div class="quote-grid">
                <div class="quote-bubble">
                    "–Ø–∫ –Ω–µ –≤—Ç—Ä–∞—Ç–∏—Ç–∏ –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª—ñ–∑–º –≤ –Ω–∞—É—Ü—ñ –ø—ñ–¥ —á–∞—Å –Ω–∞—É–∫–æ–≤–æ–≥–æ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç—É? –î–µ –º–µ–∂–∞ –º—ñ–∂ '–Ω–∞—É–∫–æ–≤–∏–º –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º' —ñ '–±—é—Ä–æ–∫—Ä–∞—Ç–æ–º –ø—Ä–∏ –Ω–∞—É—Ü—ñ'?"
                </div>
                <div class="quote-bubble">
                    "–í—ñ–¥–ø–æ—á–∏–Ω–æ–∫ —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—ñ–¥ —á–∞—Å –≤—ñ–π–Ω–∏, —Å—Ç—Ä–µ—Å —Ç–∞ –ø—ñ–∫–ª—É–≤–∞–Ω–Ω—è –ø—Ä–æ —Å–µ–±–µ... —è–∫ –±–∞—á–∏—Ç–∏ —Å–µ–Ω—Å, –∫–æ–ª–∏ –Ω–∞—É–∫–æ–≤—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ –≤–ø—Ä–æ–≤–∞–¥–∂—É—é—Ç—å—Å—è –¥—É–∂–µ –ø–æ–≤—ñ–ª—å–Ω–æ."
                </div>
                <div class="quote-bubble">
                    "–ü–∏—Ç–∞–Ω–Ω—è –≤—ñ–¥—Å—É—Ç–Ω–æ—Å—Ç—ñ –º–æ—Ç–∏–≤–∞—Ü—ñ—ó —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –Ω–∞—É–∫–æ–≤–æ–≥–æ —Å–µ–∫—Ç–æ—Ä—É —Ç–∞ —Å–∞–º–∏—Ö –Ω–∞—É–∫–æ–≤—Ü—ñ–≤ –∑–∞–π–º–∞—Ç–∏—Å—è –Ω–∞—É–∫–æ—é —á–µ—Ä–µ–∑ –Ω–∏–∑—å–∫—ñ –æ–∫–ª–∞–¥–∏."
                </div>
                <div class="quote-bubble">
                    "–ö—Ä–æ–∫–∏ –≤ —Ç—Ä–∞–Ω—Å—Ñ–µ—Ä—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π, –≤—ñ–¥ –ø–∞—Ç–µ–Ω—Ç—É–≤–∞–Ω–Ω—è –¥–æ –∫–æ–º–µ—Ä—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó."
                </div>
            </div>
        </div>

    </div>
    
    <div class="footer-note">Generated by Analytics Engine based on CSV "2025_–û–ø–∏—Ç—É–≤–∞–Ω–Ω—è –º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ –ø–æ—Ç—Ä–µ–±–∏.csv"</div>
</div>

<script>
/**
 * AUTHENTICATION LOGIC
 */
function checkPassword() {
    const input = document.getElementById('password-input').value;
    const errorMsg = document.getElementById('error-message');
    const loginScreen = document.getElementById('login-screen');
    const mainDashboard = document.getElementById('main-dashboard');

    if (input === '18341834!') {
        loginScreen.style.opacity = '0';
        setTimeout(() => {
            loginScreen.style.display = 'none';
            mainDashboard.style.display = 'block';
            initDashboard(); 
        }, 300);
    } else {
        errorMsg.style.display = 'block';
        const card = document.querySelector('.login-card');
        card.style.transform = 'translateX(10px)';
        setTimeout(() => card.style.transform = 'translateX(-10px)', 100);
        setTimeout(() => card.style.transform = 'translateX(0)', 200);
    }
}

document.getElementById('password-input').addEventListener('keypress', function (e) {
    if (e.key === 'Enter') {
        checkPassword();
    }
});

/**
 * DATA SOURCE & ANALYTICS
 */
const analytics = {
    total: 50,
    
    gender: {
        men: 10,
        women: 40
    },

    // 1. By Responses (N=50)
    uniTypes: [
        { label: "–¢–µ—Ö–Ω—ñ—á–Ω—ñ (Technical)", count: 25, pct: 50, color: "#0369a1" },
        { label: "–ö–ª–∞—Å–∏—á–Ω—ñ (Classical)", count: 7, pct: 14, color: "#be123c" },
        { label: "–ü–µ–¥–∞–≥–æ–≥—ñ—á–Ω—ñ (Pedagogical)", count: 7, pct: 14, color: "#c2410c" },
        { label: "–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ (Econ/Law/Med)", count: 6, pct: 12, color: "#15803d" },
        { label: "–ê–≥—Ä–∞—Ä–Ω—ñ (Agrarian)", count: 5, pct: 10, color: "#7e22ce" }
    ],

    // 2. By Unique Institutions (N=37)
    uniTypesUnique: [
        { label: "–¢–µ—Ö–Ω—ñ—á–Ω—ñ (Technical)", count: 14, pct: 38, color: "#0369a1" },
        { label: "–ö–ª–∞—Å–∏—á–Ω—ñ (Classical)", count: 7, pct: 19, color: "#be123c" },
        { label: "–°–ø–µ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ (Econ/Law/Med)", count: 6, pct: 16, color: "#15803d" },
        { label: "–ü–µ–¥–∞–≥–æ–≥—ñ—á–Ω—ñ (Pedagogical)", count: 5, pct: 13.5, color: "#c2410c" },
        { label: "–ê–≥—Ä–∞—Ä–Ω—ñ (Agrarian)", count: 5, pct: 13.5, color: "#7e22ce" }
    ],

    grantStats: [
        { label: "–Ü–Ω—Ç–µ—Ä–µ—Å: –ù–∞—Ü. –ø—Ä–æ–≥—Ä–∞–º–∏ (–ì—Ä–∞–Ω—Ç–æ–≤—ñ –∑–∞—è–≤–∫–∏)", count: 47, pct: 94, color: "#b21f1f" },
        { label: "–í–∏–±—ñ—Ä —Ç–µ–º–∏ —è–∫ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–Ω–æ—ó (Topic List)", count: 45, pct: 90, color: "#1a2a6c" },
        { label: "–Ü–Ω—Ç–µ—Ä–µ—Å: Horizon Europe", count: 44, pct: 88, color: "#3b82f6" }
    ],

    // Data enriched with explicit Type Tags for verification
    universityGroups: [
        {
            count: 6,
            list: [
                { name: "–î–µ—Ä–∂–∞–≤–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–ö–∏—ó–≤—Å—å–∫–∏–π –∞–≤—ñ–∞—Ü—ñ–π–Ω–∏–π —ñ–Ω—Å—Ç–∏—Ç—É—Ç¬ª (–≤—Å—ñ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª–∏)", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" }
            ]
        },
        {
            count: 2,
            list: [
                { name: "–ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–õ—å–≤—ñ–≤—Å—å–∫–∞ –ø–æ–ª—ñ—Ç–µ—Ö–Ω—ñ–∫–∞¬ª", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–ö–∏—ó–≤—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –¥–∏–∑–∞–π–Ω—É", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–•–∞—Ä–∫—ñ–≤—Å—å–∫–∏–π –Ω–∞—Ü. –∞–≤—Ç–æ–º–æ–±—ñ–ª—å–Ω–æ-–¥–æ—Ä–æ–∂–Ω—ñ–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å—Å—å–∫–∏–π –Ω–∞—Ü. —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º. –Ü–≤–∞–Ω–∞ –ü—É–ª—é—è", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–õ—É—Ü—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–ù–¢–£ ¬´–î–Ω—ñ–ø—Ä–æ–≤—Å—å–∫–∞ –ø–æ–ª—ñ—Ç–µ—Ö–Ω—ñ–∫–∞¬ª", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–ë–µ—Ä–¥—è–Ω—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-ped", typeLabel: "–ü–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π" },
                { name: "–†—ñ–≤–Ω–µ–Ω—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π –≥—É–º–∞–Ω—ñ—Ç–∞—Ä–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-ped", typeLabel: "–ü–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π" }
            ]
        },
        {
            count: 1,
            list: [
                { name: "–•–µ—Ä—Å–æ–Ω—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π –∞–≥—Ä–∞—Ä–Ω–æ-–µ–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-agro", typeLabel: "–ê–≥—Ä–∞—Ä–Ω–∏–π" },
                { name: "–¢–µ—Ä–Ω–æ–ø—ñ–ª—å—Å—å–∫–∏–π –Ω–∞—Ü. –º–µ–¥–∏—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º. –Ü.–Ø. –ì–æ—Ä–±–∞—á–µ–≤—Å—å–∫–æ–≥–æ", type: "u-spec", typeLabel: "–ú–µ–¥–∏—á–Ω–∏–π" },
                { name: "–ß–µ—Ä–Ω—ñ–≤–µ—Ü—å–∫–∏–π –Ω–∞—Ü. —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –Æ—Ä—ñ—è –§–µ–¥—å–∫–æ–≤–∏—á–∞", type: "u-class", typeLabel: "–ö–ª–∞—Å–∏—á–Ω–∏–π" },
                { name: "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç –∑–∞–ª—ñ–∑–Ω–∏—á–Ω–æ–≥–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–¢–∞–≤—Ä—ñ–π—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π –∞–≥—Ä–æ—Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-agro", typeLabel: "–ê–≥—Ä–∞—Ä–Ω–∏–π" },
                { name: "–ù–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —é—Ä–∏–¥–∏—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –Ø—Ä–æ—Å–ª–∞–≤–∞ –ú—É–¥—Ä–æ–≥–æ", type: "u-spec", typeLabel: "–Æ—Ä–∏–¥–∏—á–Ω–∏–π" },
                { name: "–•–ù–ï–£ —ñ–º–µ–Ω—ñ –°–µ–º–µ–Ω–∞ –ö—É–∑–Ω–µ—Ü—è", type: "u-spec", typeLabel: "–ï–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π" },
                { name: "–ü–æ–ª—Ç–∞–≤—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π –∞–≥—Ä–∞—Ä–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-agro", typeLabel: "–ê–≥—Ä–∞—Ä–Ω–∏–π" },
                { name: "–•–ù–ü–£ —ñ–º–µ–Ω—ñ –ì. –°. –°–∫–æ–≤–æ—Ä–æ–¥–∏", type: "u-ped", typeLabel: "–ü–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π" },
                { name: "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç –£—à–∏–Ω—Å—å–∫–æ–≥–æ", type: "u-ped", typeLabel: "–ü–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π" },
                { name: "–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ—É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–ö–∏—ó–≤—Å—å–∫–∏–π –Ω–∞—Ü. —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç –±—É–¥—ñ–≤–Ω–∏—Ü—Ç–≤–∞ —ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–£–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –ê–ª—å—Ñ—Ä–µ–¥–∞ –ù–æ–±–µ–ª—è", type: "u-spec", typeLabel: "–ï–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π" },
                { name: "–î–í–ù–ó ¬´–î–æ–Ω–µ—Ü—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —Ç–µ—Ö–Ω—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç¬ª", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–î–í–ù–ó ¬´–£–∂–≥–æ—Ä–æ–¥—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç¬ª", type: "u-class", typeLabel: "–ö–ª–∞—Å–∏—á–Ω–∏–π" },
                { name: "–ö–ù–ï–£ —ñ–º–µ–Ω—ñ –í–∞–¥–∏–º–∞ –ì–µ—Ç—å–º–∞–Ω–∞", type: "u-spec", typeLabel: "–ï–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π" },
                { name: "–•–µ—Ä—Å–æ–Ω—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-class", typeLabel: "–ö–ª–∞—Å–∏—á–Ω–∏–π" },
                { name: "–ö—Ä–µ–º–µ–Ω—á—É—Ü—å–∫–∏–π –Ω–∞—Ü. —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º. –ú–∏—Ö–∞–π–ª–∞ –û—Å—Ç—Ä–æ–≥—Ä–∞–¥—Å—å–∫–æ–≥–æ", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–ó–∞—Ö—ñ–¥–Ω–æ—É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-spec", typeLabel: "–ï–∫–æ–Ω–æ–º—ñ—á–Ω–∏–π" },
                { name: "–ù–∞—Ü. —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç ¬´–ü–æ–ª—Ç–∞–≤—Å—å–∫–∞ –ø–æ–ª—ñ—Ç–µ—Ö–Ω—ñ–∫–∞¬ª", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–õ—å–≤—ñ–≤—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –Ü–≤–∞–Ω–∞ –§—Ä–∞–Ω–∫–∞", type: "u-class", typeLabel: "–ö–ª–∞—Å–∏—á–Ω–∏–π" },
                { name: "–ß–µ—Ä–∫–∞—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-tech", typeLabel: "–¢–µ—Ö–Ω—ñ—á–Ω–∏–π" },
                { name: "–û–¥–µ—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π –∞–≥—Ä–∞—Ä–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-agro", typeLabel: "–ê–≥—Ä–∞—Ä–Ω–∏–π" },
                { name: "–î—Ä–æ–≥–æ–±–∏—Ü—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-ped", typeLabel: "–ü–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π" },
                { name: "–ñ–∏—Ç–æ–º–∏—Ä—Å—å–∫–∏–π –¥–µ—Ä–∂–∞–≤–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –Ü–≤–∞–Ω–∞ –§—Ä–∞–Ω–∫–∞", type: "u-class", typeLabel: "–ö–ª–∞—Å–∏—á–Ω–∏–π" },
                { name: "–ü–æ–ª—ñ—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç", type: "u-agro", typeLabel: "–ê–≥—Ä–∞—Ä–Ω–∏–π" },
                { name: "–°—Ö—ñ–¥–Ω–æ—É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –Ω–∞—Ü. —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –í–æ–ª–æ–¥–∏–º–∏—Ä–∞ –î–∞–ª—è", type: "u-class", typeLabel: "–ö–ª–∞—Å–∏—á–Ω–∏–π" },
                { name: "–•–∞—Ä–∫—ñ–≤—Å—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –í. –ù. –ö–∞—Ä–∞–∑—ñ–Ω–∞", type: "u-class", typeLabel: "–ö–ª–∞—Å–∏—á–Ω–∏–π" }
            ]
        }
    ],

    roles: [
        { label: "–ö–µ—Ä—ñ–≤–Ω–∏–∫–∏ –ù–î–ß/–ù–î–° (–ù–∞—á–∞–ª—å–Ω–∏–∫–∏/–î–∏—Ä–µ–∫—Ç–æ—Ä–∏)", count: 20, pct: 40 },
        { label: "–ü—Ä–æ—Ä–µ–∫—Ç–æ—Ä–∏ –∑ –Ω–∞—É–∫–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏", count: 10, pct: 20 },
        { label: "–ö–µ—Ä—ñ–≤–Ω–∏–∫–∏ —Å–ø–µ—Ü. –≤—ñ–¥–¥—ñ–ª—ñ–≤ (–ì—Ä–∞–Ω—Ç–∏/IP/–Ü–Ω–Ω–æ–≤–∞—Ü—ñ—ó)", count: 9, pct: 18 },
        { label: "–ó–∞—Å—Ç—É–ø–Ω–∏–∫–∏ –∫–µ—Ä—ñ–≤–Ω–∏–∫—ñ–≤ –ø—ñ–¥—Ä–æ–∑–¥—ñ–ª—ñ–≤", count: 4, pct: 8 },
        { label: "–°–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∏ / –Ü–Ω–∂–µ–Ω–µ—Ä–∏ –ù–î–ß", count: 4, pct: 8 },
        { label: "–ù–∞—É–∫–æ–≤—Ü—ñ / –í–∏–∫–ª–∞–¥–∞—á—ñ", count: 3, pct: 6 }
    ],

    experience: [
        { label: "–ü–æ–Ω–∞–¥ 10 —Ä–æ–∫—ñ–≤", count: 31, color: "primary" },
        { label: "5-10 —Ä–æ–∫—ñ–≤", count: 8, color: "secondary" },
        { label: "–î–æ 5 —Ä–æ–∫—ñ–≤", count: 11, color: "tertiary" }
    ],

    topics: [
        { label: "–ó–∞–ª—É—á–µ–Ω–Ω—è –≥—Ä–∞–Ω—Ç–æ–≤–æ–≥–æ —Ñ—ñ–Ω–∞–Ω—Å—É–≤–∞–Ω–Ω—è", count: 47 },
        { label: "–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–∞—É–∫–æ–≤–∏–º–∏ –ø—Ä–æ—î–∫—Ç–∞–º–∏", count: 41 },
        { label: "–í–∑–∞—î–º–æ–¥—ñ—è –Ω–∞—É–∫–∏ –π –±—ñ–∑–Ω–µ—Å—É / –ö–æ–º–µ—Ä—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è", count: 34 },
        { label: "–ú—ñ–∂–Ω–∞—Ä–æ–¥–Ω–µ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–æ —Ç–∞ –Ω–∞—É–∫–æ–≤–∞ –¥–∏–ø–ª–æ–º–∞—Ç—ñ—è", count: 33 },
        { label: "–ûpen science (–í—ñ–¥–∫—Ä–∏—Ç–∞ –Ω–∞—É–∫–∞)", count: 26 },
        { label: "–ù–∞—É–∫–æ–≤–∞ –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—è —Ç–∞ –ø–æ–ø—É–ª—è—Ä–∏–∑–∞—Ü—ñ—è", count: 25 },
        { label: "–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å", count: 22 },
        { label: "–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—é –≤–ª–∞—Å–Ω—ñ—Å—Ç—é", count: 20 },
        { label: "–õ—ñ–¥–µ—Ä—Å—Ç–≤–æ —Ç–∞ —Ä–æ–∑–≤–∏—Ç–æ–∫ —É–ø—Ä–∞–≤–ª—ñ–Ω—Å—å–∫–∏—Ö –Ω–∞–≤–∏—á–æ–∫", count: 19 },
        { label: "–ï—Ç–∏–∫–∞ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å, –¥–æ–±—Ä–æ—á–µ—Å–Ω—ñ—Å—Ç—å", count: 13 }
    ],

    formats: [
        { label: "–°—Ç–∞–∂—É–≤–∞–Ω–Ω—è (Internships)", count: 39 },
        { label: "–í–æ—Ä–∫—à–æ–ø–∏ (Workshops)", count: 35 },
        { label: "–ü–∞–Ω–µ–ª—å–Ω—ñ –¥–∏—Å–∫—É—Å—ñ—ó –∑ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏", count: 29 },
        { label: "–ö–æ—Ä–æ—Ç–∫—ñ –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å–∏", count: 27 },
        { label: "–í—ñ–∑–∏—Ç–∏ (Study Visits)", count: 23 },
        { label: "–°–ø—ñ–ª—å–Ω–æ—Ç–∏ –ø—Ä–∞–∫—Ç–∏–∫ (Networking)", count: 21 },
        { label: "–°–µ–º—ñ–Ω–∞—Ä–∏", count: 20 }
    ],

    interests: [
        { topic: "–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –≥—Ä–∞–Ω—Ç–æ–≤–∏—Ö –∑–∞—è–≤–æ–∫ (–ù–∞—Ü. –ø—Ä–æ–≥—Ä–∞–º–∏)", high: 35, med: 12 },
        { topic: "–ü—Ä–æ–≥—Ä–∞–º–∞ Horizon Europe", high: 32, med: 14 },
        { topic: "–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –®–Ü (AI) –≤ –Ω–∞—É—Ü—ñ", high: 30, med: 16 },
        { topic: "–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ—é –≤–ª–∞—Å–Ω—ñ—Å—Ç—é", high: 28, med: 15 },
        { topic: "–§—ñ–Ω–∞–Ω—Å–æ–≤–∏–π –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç / –ë—é–¥–∂–µ—Ç—É–≤–∞–Ω–Ω—è", high: 25, med: 18 },
        { topic: "–ú—ñ–∂–Ω–∞—Ä–æ–¥–Ω—ñ –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞", high: 24, med: 20 },
        { topic: "–ê–∫–∞–¥–µ–º—ñ—á–Ω–∞ –¥–æ–±—Ä–æ—á–µ—Å–Ω—ñ—Å—Ç—å", high: 20, med: 22 },
        { topic: "–õ—ñ–¥–µ—Ä—Å—å–∫—ñ –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—ñ", high: 18, med: 20 },
        { topic: "–¶–∏—Ñ—Ä–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ (Trello, Notion, etc.)", high: 15, med: 20 }
    ],

    openEndedTags: [
        "Soft Skills –¥–ª—è –Ω–∞—É–∫–æ–≤—Ü—ñ–≤",
        "–û—Ä–∞—Ç–æ—Ä—Å—å–∫–∞ –º–∞–π—Å—Ç–µ—Ä–Ω—ñ—Å—Ç—å",
        "Well-being / –ü—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω–∞ —Å—Ç—ñ–π–∫—ñ—Å—Ç—å",
        "–§—ñ–Ω–∞–Ω—Å–æ–≤–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –ø—Ä–æ—î–∫—Ç–∞–º–∏",
        "–ë—é–¥–∂–µ—Ç—É–≤–∞–Ω–Ω—è",
        "–¢—Ä–∞–Ω—Å—Ñ–µ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π (–ø—Ä–∞–∫—Ç–∏—á–Ω—ñ –∫–µ–π—Å–∏)",
        "–û—Ü—ñ–Ω–∫–∞ –≤–∞—Ä—Ç–æ—Å—Ç—ñ —Ä–æ–∑—Ä–æ–±–∫–∏",
        "–ê–∫–∞–¥–µ–º—ñ—á–Ω–∞ –º–æ–±—ñ–ª—å–Ω—ñ—Å—Ç—å",
        "–ú–æ—Ç–∏–≤–∞—Ü—ñ—è –ø–µ—Ä—Å–æ–Ω–∞–ª—É"
    ]
};

// RENDER FUNCTIONS

function initDashboard() {
    renderUniversityGroups();
    renderUniTypes('uni-types-chart', analytics.uniTypes, 50); // Weighted
    renderUniTypes('uni-types-unique-chart', analytics.uniTypesUnique, 37); // Unique
    renderRoles();
    renderGender();
    renderExperienceChart();
    renderGrantStats();
    renderBarChart('topics-chart', analytics.topics, analytics.total, 'var(--primary)');
    renderBarChart('formats-chart', analytics.formats, analytics.total, '#059669');
    renderInterestsTable();
    renderTags();
}

function renderGender() {
    const container = document.getElementById('gender-stats');
    const { men, women } = analytics.gender;
    const menPct = Math.round((men / analytics.total) * 100);
    const womenPct = Math.round((women / analytics.total) * 100);

    container.innerHTML = `
        <div class="gender-box">
            <i class="fa-solid fa-person gender-icon" style="color: var(--primary);"></i>
            <div class="gender-count">${men}</div>
            <div class="gender-label">–ß–æ–ª–æ–≤—ñ–∫–∏ (${menPct}%)</div>
        </div>
        <div class="gender-box">
            <i class="fa-solid fa-person-dress gender-icon" style="color: var(--secondary);"></i>
            <div class="gender-count">${women}</div>
            <div class="gender-label">–ñ—ñ–Ω–∫–∏ (${womenPct}%)</div>
        </div>
    `;
}

function renderUniTypes(elementId, data, scaleBase) {
    const container = document.getElementById(elementId);
    
    data.forEach(item => {
        const widthPct = (item.count / scaleBase) * 100;
        const row = document.createElement('div');
        row.className = 'bar-group';
        row.innerHTML = `
            <div class="bar-label" style="width: 220px; font-size: 0.75rem;">${item.label}</div>
            <div class="bar-track">
                <div class="bar-fill" style="width: ${widthPct}%; background: ${item.color};">
                     <span class="bar-fill-text">${item.pct}%</span>
                </div>
            </div>
            <div class="bar-value">${item.count}</div>
        `;
        container.appendChild(row);
    });
}

function renderGrantStats() {
    const container = document.getElementById('grant-breakdown-chart');
    const scaleBase = 50;
    
    analytics.grantStats.forEach(item => {
        const widthPct = (item.count / scaleBase) * 100;
        const row = document.createElement('div');
        row.className = 'bar-group';
        row.innerHTML = `
            <div class="bar-label" style="width: 280px; font-size: 0.8rem;">${item.label}</div>
            <div class="bar-track">
                <div class="bar-fill" style="width: ${widthPct}%; background: ${item.color};">
                     <span class="bar-fill-text">${item.pct}%</span>
                </div>
            </div>
            <div class="bar-value">${item.count}</div>
        `;
        container.appendChild(row);
    });
}

function renderUniversityGroups() {
    const tbody = document.getElementById('universities-table-body');
    analytics.universityGroups.forEach(group => {
        const tr = document.createElement('tr');
        
        // Generate List with Badges
        const listHtml = `<ul class="university-list">${
            group.list.map(u => `
                <li>
                    ${u.name}
                    <span class="u-badge ${u.type}">${u.typeLabel}</span>
                </li>
            `).join('')
        }</ul>`;
        
        tr.innerHTML = `
            <td style="text-align: center; font-weight: bold; font-size: 1.2rem; color: var(--primary); vertical-align: middle;">${group.count}</td>
            <td>${listHtml}</td>
        `;
        tbody.appendChild(tr);
    });
}

function renderRoles() {
    const tbody = document.getElementById('roles-table-body');
    analytics.roles.forEach(role => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td><div style="font-weight:500">${role.label}</div></td>
            <td style="text-align: right; font-weight: bold;">${role.count}</td>
            <td style="text-align: right; color: var(--text-muted);">${role.pct}%</td>
        `;
        tbody.appendChild(tr);
    });
}

function renderExperienceChart() {
    const container = document.getElementById('exp-chart');
    analytics.experience.forEach(item => {
        const pct = Math.round((item.count / analytics.total) * 100);
        const row = document.createElement('div');
        row.className = 'bar-group';
        row.style.marginBottom = '15px';
        
        let gradientClass = '';
        if(item.label.includes("–î–æ 5")) gradientClass = 'tertiary';
        else if(item.label.includes("5-10")) gradientClass = 'secondary';

        row.innerHTML = `
            <div class="bar-label" style="width: 140px;">${item.label}</div>
            <div class="bar-track">
                <div class="bar-fill ${gradientClass}" style="width: ${pct}%"></div>
            </div>
            <div class="bar-value">${item.count}</div>
        `;
        container.appendChild(row);
    });
}

function renderBarChart(elementId, data, maxVal, colorHex) {
    const container = document.getElementById(elementId);
    const scaleBase = 50; 

    data.forEach(item => {
        const widthPct = (item.count / scaleBase) * 100;
        const row = document.createElement('div');
        row.className = 'bar-group';
        row.innerHTML = `
            <div class="bar-label">${item.label}</div>
            <div class="bar-track">
                <div class="bar-fill" style="width: ${widthPct}%; background: ${colorHex};">
                     ${widthPct > 20 ? `<span class="bar-fill-text">${Math.round(widthPct)}%</span>` : ''}
                </div>
            </div>
            <div class="bar-value">${item.count}</div>
        `;
        container.appendChild(row);
    });
}

function renderInterestsTable() {
    const tbody = document.getElementById('interests-table-body');
    analytics.interests.forEach(item => {
        const totalInterest = item.high + item.med;
        const pct = Math.round((totalInterest / analytics.total) * 100);
        const barColor = pct > 80 ? '#dc2626' : (pct > 60 ? '#d97706' : '#2563eb');
        
        const tr = document.createElement('tr');
        tr.innerHTML = `
            <td>${item.topic}</td>
            <td style="color: #b91c1c; font-weight:600;">${item.high}</td>
            <td style="color: #d97706;">${item.med}</td>
            <td>
                <div style="display:flex; align-items:center; gap:10px;">
                    <div style="flex-grow:1; background:#e5e7eb; height:8px; border-radius:4px;">
                        <div style="width:${pct}%; background:${barColor}; height:100%; border-radius:4px;"></div>
                    </div>
                    <span style="font-size:0.8rem; font-weight:bold;">${pct}%</span>
                </div>
            </td>
        `;
        tbody.appendChild(tr);
    });
}

function renderTags() {
    const container = document.getElementById('tags-container');
    analytics.openEndedTags.forEach(tag => {
        const span = document.createElement('span');
        span.className = 'topic-tag';
        span.innerText = tag;
        container.appendChild(span);
    });
}
</script>
</body>
</html>
